<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <title>Certificato di Pagamento</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body class="container my-4">
    <div id="certificato">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h3>Certificato di Pagamento (SAL)</h3>
        <button id="download" class="btn btn-success">Scarica PDF</button>
      </div>

      <div class="row">
        <div class="col-md-6">
          <h6 class="fw-bold">IL COMMITTENTE</h6>
          <p>
            <span id="committenteRagione" class="text-primary"></span><br />
            <span id="committenteIndirizzo" class="text-primary"></span><br />
            <small id="committenteReferente"></small>
          </p>

          <h6 class="fw-bold mt-4">INFO PROGETTO</h6>
          <p id="progettoDescrizione"></p>
          <p><strong>Indirizzo:</strong> <span id="progettoIndirizzo"></span></p>
          <p><strong>Inizio:</strong> <span id="dataInizio"></span></p>
          <p><strong>Fine prevista:</strong> <span id="dataFine"></span></p>
        </div>

        <div class="col-md-6">
          <h6 class="fw-bold">L’IMPRESA</h6>
          <p>
            <span id="impresaRagione" class="text-primary"></span><br />
            <span id="impresaIndirizzo" class="text-primary"></span>
          </p>

          <h6 class="fw-bold mt-4">RESPONSABILI</h6>
          <p><strong>R.L. e CSE:</strong> <span id="committenteRL"></span></p>
          <p><strong>Direttore dei lavori:</strong> <span id="committenteDL"></span></p>
          <p><strong>Project Manager:</strong> <span id="committentePM"></span></p>
          <p><strong>Direttore lavori Impresa:</strong> <span id="impresaDL"></span></p>
        </div>
      </div>

      <hr class="my-4" />
      <div class="container mt-4">
        <div class="row">
          <div class="col-md-6">
            <h4 class="mb-3">CERTIFICATI PRECEDENTI</h4>
            <table class="table table-bordered table-sm" id="precedenti-table">
              <thead class="table-light">
                <tr>
                  <th class="text-center">n.</th>
                  <th class="text-center">data</th>
                  <th class="text-center">importo</th>
                </tr>
              </thead>
              <tbody>
                </tbody>
            </table>
          </div>

          <div class="col-md-6">
            <h4 class="mb-3">CERTIFICATO DI PAGAMENTO</h4>
            <p>
              <strong>
                Stato di Avanzamento Lavori N.<span id="numero-sal"></span>
              </strong>
            </p>
            <p><strong>Data:</strong> <span id="data-sal"></span></p>
            <p><strong>Importo:</strong> <span id="importo-sal"></span></p>
          </div>
        </div>
      </div>

      <h5 class="mb-3">Dati SAL / Costi</h5>
      <div class="table-responsive">
        <table class="table table-bordered table-sm">
          <thead class="table-light">
            <tr>
              <th>Voce</th>
              <th>Quantità</th>
              <th>Prezzo Unitario</th>
              <th>Totale</th>
            </tr>
          </thead>
          <tbody id="salTableBody">
            </tbody>
          <tfoot class="table-light">
            <tr>
              <td colspan="3" class="text-end fw-bold">Totale Generale</td>
              <td id="salTotal" class="fw-bold text-primary"></td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <script src="js_empresa/certificado.js"></script>
  </body>
</html>